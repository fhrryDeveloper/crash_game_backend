module.exports = (crashFactor, max_delay, min_delay, intervals) => {
    var totalDelayTime = null;
    var batch_size = ((max_delay - min_delay) / intervals);
    return function () {

        for (i = 1; i <= crashFactor; i = i + 0.01) {

            batch = (i / (10/intervals)) | 0;
            delay = (max_delay - (batch_size * batch));
            totalDelayTime = totalDelayTime + delay;
        }       

        return (totalDelayTime / 1000);
    }
};